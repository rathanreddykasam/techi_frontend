<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<!-- eslint-disable @angular-eslint/template/no-autofocus -->

<form
  [formGroup]="loginForm"
  autocomplete="off"
  (ngSubmit)="onSubmit()"
  class="p-16-0"
>
  <div class="flex fx-wrap">
    <div class="fx-col fx-col-input-field">
      <mat-form-field class="input-lg" appearance="outline" density="-2">
        <mat-label>Username </mat-label>
        <input
          matInput
          placeholder="Username"
          minlength="1"
          formControlName="username"
          id="username"
          required
          autofocus
        />
      </mat-form-field>
      @for(validation of validationMessages.username; track validation; let i =
      $index) { @if (loginForm.get('username').hasError(validation.type) &&
      (loginForm.get('username').dirty || loginForm.get('username').touched)) {
      <mat-error class="error-lg">
        {{ validation.message }}
      </mat-error>
      } }
    </div>
    <div class="fx-col fx-col-input-field">
      <mat-form-field class="input-lg" appearance="outline" density="-2">
        <mat-label>Password</mat-label>
        <input
          matInput
          type="password"
          placeholder="password"
          minlength="1"
          formControlName="password"
          id="password"
          required
          autofocus
        />
      </mat-form-field>
      @for(validation of validationMessages.password; track validation; let i =
      $index) { @if (loginForm.get('password').hasError(validation.type) &&
      (loginForm.get('password').dirty || loginForm.get('password').touched)) {
      <mat-error class="error-lg">
        {{ validation.message }}
      </mat-error>
      } }
    </div>
  </div>
  <div class="flex gap-10">
    <button mat-raised-button mat-dialog-close>Cancel</button>
    <button mat-flat-button type="submit" [disabled]="!validate()">
      Login
    </button>
  </div>
</form>
